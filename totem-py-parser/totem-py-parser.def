;; -*- scheme -*-
; object definitions ...
;; Enumerations and flags ...
;; Copyright (C) 2009  Alexey Kuznetsov <ak@axet.ru>

(define-enum PlParserResult
  (in-module "Totem")
  (c-name "TotemPlParserResult")
  (gtype-id "TOTEM_TYPE_PL_PARSER_RESULT")
  (values
    '("unhandled" "TOTEM_PL_PARSER_RESULT_UNHANDLED")
    '("error" "TOTEM_PL_PARSER_RESULT_ERROR")
    '("success" "TOTEM_PL_PARSER_RESULT_SUCCESS")
    '("ignored" "TOTEM_PL_PARSER_RESULT_IGNORED")
  )
)

(define-enum PlParserType
  (in-module "Totem")
  (c-name "TotemPlParserType")
  (gtype-id "TOTEM_TYPE_PL_PARSER_TYPE")
  (values
    '("pls" "TOTEM_PL_PARSER_PLS")
    '("m3u" "TOTEM_PL_PARSER_M3U")
    '("m3u-dos" "TOTEM_PL_PARSER_M3U_DOS")
    '("xspf" "TOTEM_PL_PARSER_XSPF")
    '("iriver-pla" "TOTEM_PL_PARSER_IRIVER_PLA")
  )
)

(define-enum PlParserError
  (in-module "Totem")
  (c-name "TotemPlParserError")
  (gtype-id "TOTEM_TYPE_PL_PARSER_ERROR")
  (values
    '("no-disc" "TOTEM_PL_PARSER_ERROR_NO_DISC")
    '("mount-failed" "TOTEM_PL_PARSER_ERROR_MOUNT_FAILED")
  )
)

;; TotemPlParser

(define-object TotemPlParser
  (in-module "Totem")
  (parent "GObject")
  (c-name "TotemPlParser")
  (gtype-id "TOTEM_TYPE_PL_PARSER")
)

(define-method parse
  (of-object "TotemPlParser")
  (c-name "totem_pl_parser_parse")
  (return-type "TotemPlParserResult")
  (parameters
    '("const-char*" "uri")
    '("gboolean" "fallback")
  )
)

(define-function totem_pl_parser_new
  (c-name "totem_pl_parser_new")
  (is-constructor-of "TotemPlParser")
  (return-type "TotemPlParser*")
)

;; TotemPyParser

(define-object TotemPyParser
  (in-module "Totem")
  (parent "TotemPlParser")
  (c-name "TotemPyParser")
  (gtype-id "TOTEM_TYPE_PY_PARSER")
)

(define-method parse
  (of-object "TotemPyParser")
  (c-name "totem_py_parser_parse")
  (return-type "TotemPlParserResult")
  (parameters
    '("const-char*" "uri")
    '("gboolean" "fallback")
  )
)

(define-function totem_py_parser_new
  (c-name "totem_py_parser_new")
  (is-constructor-of "TotemPyParser")
  (return-type "TotemPyParser*")
)

;; TotemHashTable

(define-object TotemHashTable
  (in-module "Totem")
  (parent "GObject")
  (c-name "TotemHashTable")
  (gtype-id "TOTEM_TYPE_HASH_TABLE")
)

(define-method lookup
  (of-object "TotemHashTable")
  (c-name "totem_hash_table_lookup")
  (return-type "const-char*")
  (parameters
    '("const-char*" "key")
  )
)
